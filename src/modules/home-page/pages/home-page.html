<link rel="import" href="../../../../bower_components/polymer/polymer-element.html">
<link rel="import" href="../../../../bower_components/polymer/lib/elements/dom-repeat.html">
<link rel="import" href="../../firebase-mixin/firebase-mixin.html">
<link rel="import" href="../components/firebase-property-example.html">

<dom-module id="home-page">
  <template>
    <style>
    </style>

    <div class="container">
      Hello there [[params.id]]

      <firebase-property-example></firebase-property-example>

      <!-- <firebase-property-example></firebase-property-example> -->
    </div>
  </template>
  <script>
    (() => {
      class HomePage extends Polymer.Element {
        static get is () { return 'home-page' }

        static get properties () {
          return {
            params: {
              type: Object,
              readOnly: true
            }
          }
        }

        connectedCallback () {
          super.connectedCallback()
          for (var i = 0; i < 10; i++) {
            setTimeout(() => {
              this.shadowRoot.querySelector('.container').appendChild(document.createElement('firebase-property-example'))
            }, i * 1000)
          }
          setTimeout(() => {
            this.deleteProperties(i + 1)
          }, (i + 1) * 1000)
        }

        deleteProperties (num) {
          for (var i = 0; i < num; i++) {
            setTimeout(() => {
              this.shadowRoot.querySelector('firebase-property-example').remove()
            }, i * 1000)
          }
        }
      }

      window.customElements.define(HomePage.is, HomePage)
    })()
  </script>
</dom-module>
